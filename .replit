run = ["sh", "-c", "python -m flask --app start_webapp run --host 0.0.0.0 --port 5002"]
language = "python3"
entrypoint = "main.py"
modules = ["nodejs-20", "python-3.11"]

[env]
PYTHONPATH = "."
FLASK_APP = "start_webapp"

[nix]
channel = "stable-22_11"

# Fix the ports section to use an array format instead of object
[[ports]]
port = 5002
export = true
label = "WebApp"
description = "Web user interface"

[[ports]]
port = 5001
export = true
label = "API"
description = "API Server"

[debugger]
support = true

[multiplayer]
transport = "mp_transport"
